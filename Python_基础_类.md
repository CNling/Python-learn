# Python基础-4

## 面向对象（OOP）

### 面向过程的编程语言

- 将程序的逻辑分解为一个一个的步骤，通过对每个步骤的抽象来完成程序
- 符合人类常规的思想，容易编写
- 不足：

	- 用该方式编写的代码只适用于一个功能
	- 复用性差，难以维护

### 语言中的所有操作都是通过对象来进行，关注对象，不关注过程

### 对于面向对象的语言来说：一切皆对象

### 编程思想：将所有的功能统一保存到对应的对象中

- 找对象
- 搞对象

### 容易阅读，复用性好，易于维护

### 不足：不符合常规思想，编写麻烦

## 类（class）

### 分类

- 内置类：int() str() float()....
- 自定义类

	- 语法：class MyClass():
	- 基本结构：

		- class MyClass([父类]):

### 简介

- 类 --> 图纸
- 对象 --> 图纸的实例
- 类是对象的图纸，对象是类的实例（instance）

	- isinstance(对象，类)：检查一个对象是否是一个类的实例

- 多个对象由一个类创建，称这些对象为一类对象

### 类是一个type类型的对象

- <class,'type'>

### 使用类创建对象

- 1.创建变量
- 2.在内存中创建一个新对象
- 3.__init__()方法执行
- 4.将对象的id赋值给变量

### 属性

- 对象中的变量

	- 语法：对象.属性名 = 属性值

		- mc.name = 'swk'

### 定义

- 类和对象都是对现实生活中的事物或程序中的内容的抽象
- 数据（属性）

	- 在类中定义的变量，会成为该类实例的公共属性，通过 对象.属性名 访问

- 行为（方法）

	- 在类中定义的函数，会成为该类实例的公共方法，通过 对象.方法名() 访问
	- 方法调用时，第一个参数由解析器自动传递，定义方法时，至少定义一个形参

		- 第一个参数，就是调用该方法的对象（self）

### 属性、方法查找流程

- 1.在当前对象中寻找属性（方法），若有则返回属性值
- 2.若没有，则去当前对象的类对象中寻找，若有则返回属性值
- 3.若没有，则报错

### 类对象、实例对象都可以保存属性（方法）

- 公共 -- > 类对象
- 独有 -- > 实例对象
- 属性 -- > 实例对象
- 方法 -- > 类对象

### 特殊方法（魔术方法）

- 规则：__开头 __结尾
- 不需要自己调用，会在特殊时刻自己调用
- 怎样学习特殊方法

	- 什么时候调用
	- 有什么用

- __init__(self)

	- 初始化方法
	- 会在对象创建后立即执行
	- 创建实例对象时，类后面的所有参数会依次传递给init()

## 封装

### 隐藏对象中不希望被外部访问的属性和方法

### 如何隐藏

- 修改对象的属性名为外部不知道的

### 如何获取（修改）对象中的属性

- 获取

	- getter方法，语法：get_属性名

- 修改

	- setter方法，语法：set_属性名

### 增加类定义时的复杂程度，确保了数据的安全性

- 隐藏属性名，使调用者无法随意修改对象中的属性
- getter、setter方法控制属性的可读性
- 使用setter方法设置属性，可以进行数据的验证
- 使用getter方法可以表示一些计算的属性
- 使用getter、setter方法设置时可以做其他的处理

### __属性名

- 为对象的属性使用双下划线开头是为隐藏属性

	- __属性名 == _类名__属性名

- 依然可以被外部访问，一般使用‘_属性名‘表示私有属性

### @property

- 将getter方法转化为对象的属性

	- 使用property装饰的方法名必须与属性名一致

### @属性名.setter

- 可以像调用属性一样调用方法

### 确保了对象中数据的安全性

## 继承

### 使一个类获取到其他类的所有属性和方法

- 子类可以继承父类的所有属性和方法

### 定义类时，可以在类后的括号中指定当前类的父类（超类、基类、super）

- class Dog(Animal)

### 通过继承对一个类进行扩展

- 避免代码的重复性
- 符合OCP原则

### issubclass（一个类，另一个类）检查一个类是否是另一个类的子类

### 重写

- 调用对象的方法时，会优先在当前对象中寻找，如果有，则调用，如果没有，则去当前对象的父类中寻找，如果有，则调用，以此类推，直到找到object，如果依然没有，则报错

### super()

- 可以用来获取当前类的父类

	- super().__init__(self)

### 多重继承

- 类名（父类1，父类2，。。。）
- 会获取父类中的所有方法
- 多个父类中有同名的方法时，从前往后寻找

### 保证了对象的可扩展性

## 多态

### 一个对象可以用不同的状态呈现

### 多态函数

- 不考虑对象的类型，只要对象有函数所需的属性即可调用该函数

### 保证了程序的灵活性

## 属性和方法

### 类属性

- 在类中定义的属性

	- 通过类访问及修改
	- 通过类的实例访问但无法修改

### 实例属性

- 通过实例对象添加的属性

	- 类对象无法访问及修改
	- 只能通过实例对象访问及修改

### 类方法

- 在类中使用@classmethod装饰的方法

	- 类和实例都可调用
	- 类方法的第一个参数是‘cls’

### 实例方法

- 在类中定义，以self为第一个参数的方法

	- 实例对象调用，会自动传递当前对象作为self参数传递
	- 类对象调用，需手动传递self参数

### 静态方法

- 在类中使用@staticmethod装饰的方法

	- 类对象和实例对象皆可调用
	- 与当前类无关的方法，只是保存在类中的一个函数

## 垃圾回收

### 垃圾

- 在程序中没有被引用的对象

### 回收

- 程序中垃圾过多会影响程序的性能，应及时将垃圾对象从内存中删除
- Python拥有自动回收垃圾机制



