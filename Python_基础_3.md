# Python基础-5

## 模块（module）

### 模块化

- 将完整的程序分解成一个一个模块
- 将程序编写到不同的文件
- 优点：

	- 方便开发及维护
	- 可以复用

### 概念

- 在python中每一个python文件就是一个模块

### 创建

- 创建py文件

### 引用

- import 模块名（文件名）

	- import pandas

- import 模块名 as 模块别名

	- import pandas as pd

- from 模块名 import 变量1，变量2。。。
- from 模块名 import 变量名 as 变量别名
- form 模块名 impor *

	- 引入模块中所有内容，但不会引用_开头的变量，一般不使用

- 同一个模块可以引用多次，但模块的实例只会执行一次
- __name__属性可以获取模块的名字

	- 在当前模块获取当前属性名的值为__main__

- 访问模块中的变量

	- 模块名.变量名

### 包（package）

- 模块中代码过多，或一个模块需要分解为多个模块时，就需要使用包
- 是一个高级模块（文件夹）
- 必须要有一个 __init__.py 文件，包含有包中的主要内容
- __pycache__是模块的缓存文件

	- 在使用模块时，为了避免浪费性能，会在模块执行一次之后生成一个缓存文件保存结果

### 标准库

- 实现开箱即用的思想

## 异常

### 概念

- 程序在运行的过程中不可避免的会出现一些错误，这些错误称为异常，会导致程序终止

### 处理

- try

	- 语法：try：

### 传播

- 抛出异常

	- 程序出现异常时，异常信息会保存在一个异常对象中，异常传播就是把异常对象抛给调用处

- 如果没有对函数中的异常进行处理，则异常会向函数调用处传播，直到传递给全局作用域，若没有处理，则报错并显示错误信息

### 抛出异常

- raise 异常类（异常实例）

	- 主动向外部抛出异常

### 定义异常

- class MyError(Exception)

	- 必须是Excepion 的子类

## 文件（file）

### 通过Python程序对计算机中的各种文件进行增删改查的操作

### I/O

- input

	- 读取（接收）数据

- output

	- 写入（发送）数据

### 操作步骤

- 打开

	- open()

		- 参数：file 文件路径 encoding 文件编码，返回值：表示文件的对象

			- 纯文本文件

				- 默认以纯文本文件打开

			- 二进制文件

- 操作（增删改查）

	- 读

		- read（）

			- 会将全部内容保存为一个字符串返回

				- r = file_obj.read()

		- readline()

			- 用来读取一行内容

		- readlines()

			- 会一行一行的读取内容，并将读取到的内容封装到一个列表中返回

	- 写

		- write（）

			- open（）参数：'r[r+,w,w+,a,a+]'，指定打开文件要做的操作

				- r，r+

					- r:只读，不可写,r+:可读可写

				- w, w+

					- w:可写，文件不存在时创建新文件，存在时，则会截断文件：删除原有内容

				- a, a+

					- a：可写，文件不存在时创建新文件，存在则会向文件中追加内容

				- x

					- 新建文件，当文件存在时抛出异常

				- b

					- bin，二进制文件

				- t

					- txt，文本文件（默认）

			- 文本文件

				- 参数：字符串
				- 返回值：写入字符的个数

- 关闭

	- close()

		- file_obj.close()

	- with ... as 

		- with open(file_name) as file_obj:

			- try:

### 大文件的读取

- read()方法默认读取文件中的所有内容

	- 在处理大文件时，易导致内存溢出

- read([size])

	- 参数：size 指定要读取的字符的数量，默认，-1

		- 每次调用时，会在上次调用结束位置作为起始位置

### 文件读取的位置

- tell()

	- 查看当前读取的位置

		- file_obj.tell()

- seek()

	- 修改当前读取的位置

		- 参数：

			- 切换到的位置
			- 计算位置的方式（0,1,2）

		- file_obj.seek(100,0)

*XMind: ZEN - Trial Version*